<!-- Loads Static Referneces -->
{% load static %}

<!-- Loads Bootstrap -->

<head>
    <link rel="stylesheet" href="{% static 'assets/css/bootstrap.css' %}">
</head>

<!-- Required for AJAX driven Django forms in Bootstrap modal -->

<body>
    <script src="{% static 'assets/js/bootstrap.js' %}"></script>
    <script src="{% static 'assets/js/jquery.js' %}"></script>
    <script src="{% static 'js/jquery.bootstrap.modal.forms.js' %}"></script>
    <!-- You can alternatively load the minified version -->
    <script src="{% static 'js/jquery.bootstrap.modal.forms.min.js' %}"></script>
</body>

<div class="sidenav">
    <div class="icon">
        <p>M</p>
    </div>
    <a href="/account">
        <i class="fas fa-user-circle"></i>
        Account
    </a>
    <a onclick="openNav()">
        <i class="fa fa-folder-o" aria-hidden="true"></i>
        Projects
    </a>
    <a href="logout">
        <i class="fa fa-sign-out" aria-hidden="true"></i>
        <!-- <i class="fas fa-user-circle"></i> -->
        LogOut
    </a>
    
</div>
<div id="project-list" class="project-list">
    <div class="list-header">
        <h2>Projects</h2>
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    </div>
    <div class="collapse-container">
        <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#admin-list"><p>Admin</p><i class="fa fa-caret-down" aria-hidden="true"></i></button>
        <div id="admin-list" class="collapse in">
            <tr>
                {% for project in admin_projects %} 
                    <td>
                        {% if project.avatar%}
                        <img src="/{{project.avatar}}" alt="Avatar" class="project_img">
                        {% else %}
                        <img class="project_img" src="https://www.logistec.com/wp-content/uploads/2017/12/placeholder.png">
                        {% endif %}
                        <!-- <img class="image" src="https://www.logistec.com/wp-content/uploads/2017/12/placeholder.png"> -->
                        <a href="{% url 'landing' project.pk %}"><strong>{{project.name}}</strong></a>
                    </td>
                {% endfor %}
            </tr>
        </div>
    </div>
    <div class="collapse-container">
        <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#normal-list"><p>Collaborator</p><i class="fa fa-caret-down" aria-hidden="true"></i></button>
        <div id="normal-list" class="collapse in">
            <tr>
                {% for project in normal_projects %} 
                    <td><a href="{% url 'landing' project.pk %}"><strong>{{project.name}}</strong></a></td>
                {% endfor %}
            </tr>
        </div>
    </div>
	
	<!-- New Project Modal Button -->
    <div class="modal fade" tabindex="-1" role="dialog" id="modal">
        <div class="modal-dialog" role="document">
            <div class="modal-content"></div>
        </div>
    </div>

    <!-- New Project button -->
    <button id="new-project" class="btn btn-primary" type="button" name="button">New Project</button>
  </div>

<script type="text/javascript">
    function openNav() {
        document.getElementById("project-list").style.width = "250px";
    }

    /* Set the width of the side navigation to 0 */
    function closeNav() {
        document.getElementById("project-list").style.width = "0";
    }
</script>

<!-- Binds the modalForm to the button trigger -->
<script type="text/javascript">
    $(document).ready(function () {

        $("#new-project").modalForm({
            formURL: "{% url 'new_project' %}"
        });

    });
</script>